var z=Object.defineProperty;var C=(n,t,a)=>t in n?z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a;var $=(n,t,a)=>C(n,typeof t!="symbol"?t+"":t,a);import{s as u,n as v,a as I,u as R,g as E,b as A}from"./scheduler.xZJLFhf8.js";import{S as h,i as m,e as d,t as T,c as p,a as _,b as P,d as f,m as o,g as b,h as S,j as U,n as y,o as L,r as w}from"./index.BLf1SSDG.js";function at(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}class k{constructor(t){$(this,"lastfm");this.lastfm=t}async getCorrection(t){const a=await this.lastfm.fetch(new URLSearchParams({method:"artist.getCorrection",artist:t}));if(typeof a.corrections.correction>"u")throw new Error("The artist you supplied could not be found");return a.corrections.correction.artist.name}async getInfo(t){const a=await this.lastfm.fetch(new URLSearchParams({method:"artist.getInfo",artist:t}));return{name:a.artist.name,playcount:parseInt(a.artist.stats.playcount),listeners:parseInt(a.artist.stats.listeners),url:a.artist.url,similar:a.artist.similar.artist.map(r=>r.name)}}async getTopTracks(t,a="10"){return(await this.lastfm.fetch(new URLSearchParams({method:"artist.getTopTracks",artist:t,limit:a}))).toptracks.track.map(e=>({title:e.name,playcount:parseInt(e.playcount),listeners:parseInt(e.listeners),url:e.url,rank:parseInt(e["@attr"].rank)}))}}const B="https://ws.audioscrobbler.com/2.0/";class D{async fetch(t){const a=new URLSearchParams({api_key:"046a32e1f0d5bd75aa99fb2e2a812eb9",format:"json"}),r=await fetch(B+"?"+a+"&"+t);if(r.status!==200)throw new Error("Bad Request");return await r.json()}}const nt={artist:new k(new D)};function N(n){let t,a=j(n[0],n[1])+"",r,e,s;return{c(){t=d("span"),r=T(a),e=T("%"),this.h()},l(l){t=p(l,"SPAN",{title:!0});var i=_(t);r=P(i,a),e=P(i,"%"),i.forEach(f),this.h()},h(){o(t,"title",s=g(n[0])+" out of "+g(n[1]))},m(l,i){b(l,t,i),S(t,r),S(t,e)},p(l,[i]){i&3&&a!==(a=j(l[0],l[1])+"")&&U(r,a),i&3&&s!==(s=g(l[0])+" out of "+g(l[1]))&&o(t,"title",s)},i:v,o:v,d(l){l&&f(t)}}}function g(n){return new Intl.NumberFormat(navigator.language??"en-US").format(n)}function j(n,t){return(n*100/t).toFixed(2)}function q(n,t,a){let{part:r}=t,{total:e}=t;return n.$$set=s=>{"part"in s&&a(0,r=s.part),"total"in s&&a(1,e=s.total)},[r,e]}class rt extends h{constructor(t){super(),m(this,t,q,N,u,{part:0,total:1})}}function F(n){let t,a;const r=n[1].default,e=I(r,n,n[0],null);return{c(){t=d("table"),e&&e.c(),this.h()},l(s){t=p(s,"TABLE",{class:!0});var l=_(t);e&&e.l(l),l.forEach(f),this.h()},h(){o(t,"class","svelte-1tuw4jv")},m(s,l){b(s,t,l),e&&e.m(t,null),a=!0},p(s,[l]){e&&e.p&&(!a||l&1)&&R(e,r,s,s[0],a?A(r,s[0],l,null):E(s[0]),null)},i(s){a||(y(e,s),a=!0)},o(s){L(e,s),a=!1},d(s){s&&f(t),e&&e.d(s)}}}function G(n,t,a){let{$$slots:r={},$$scope:e}=t;return n.$$set=s=>{"$$scope"in s&&a(0,e=s.$$scope)},[e,r]}class lt extends h{constructor(t){super(),m(this,t,G,F,u,{})}}function V(n){let t,a;const r=n[4].default,e=I(r,n,n[3],null);return{c(){t=d("div"),e&&e.c(),this.h()},l(s){t=p(s,"DIV",{title:!0,style:!0,class:!0});var l=_(t);e&&e.l(l),l.forEach(f),this.h()},h(){o(t,"title",n[1]),w(t,"--bar-size",n[0]+"%"),w(t,"--bar-color",n[2]),o(t,"class","svelte-1ty1bkl")},m(s,l){b(s,t,l),e&&e.m(t,null),a=!0},p(s,[l]){e&&e.p&&(!a||l&8)&&R(e,r,s,s[3],a?A(r,s[3],l,null):E(s[3]),null),(!a||l&2)&&o(t,"title",s[1]),(!a||l&1)&&w(t,"--bar-size",s[0]+"%"),(!a||l&4)&&w(t,"--bar-color",s[2])},i(s){a||(y(e,s),a=!0)},o(s){L(e,s),a=!1},d(s){s&&f(t),e&&e.d(s)}}}const H="#648fff80",J="#785ef080",K="#dc267f80",M="#fe610080",O="#ffb00080";function Q(n){return n>80?O:n>60?M:n>40?K:n>20?J:H}function W(n,t,a){let r,{$$slots:e={},$$scope:s}=t,{size:l}=t,{title:i=""}=t;return n.$$set=c=>{"size"in c&&a(0,l=c.size),"title"in c&&a(1,i=c.title),"$$scope"in c&&a(3,s=c.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&a(2,r=Q(l))},[l,i,r,s,e]}class it extends h{constructor(t){super(),m(this,t,W,V,u,{size:0,title:1})}}function X(n){let t,a;const r=n[1].default,e=I(r,n,n[0],null);return{c(){t=d("tr"),e&&e.c(),this.h()},l(s){t=p(s,"TR",{class:!0});var l=_(t);e&&e.l(l),l.forEach(f),this.h()},h(){o(t,"class","svelte-197l5a0")},m(s,l){b(s,t,l),e&&e.m(t,null),a=!0},p(s,[l]){e&&e.p&&(!a||l&1)&&R(e,r,s,s[0],a?A(r,s[0],l,null):E(s[0]),null)},i(s){a||(y(e,s),a=!0)},o(s){L(e,s),a=!1},d(s){s&&f(t),e&&e.d(s)}}}function Y(n,t,a){let{$$slots:r={},$$scope:e}=t;return n.$$set=s=>{"$$scope"in s&&a(0,e=s.$$scope)},[e,r]}class ot extends h{constructor(t){super(),m(this,t,Y,X,u,{})}}function Z(n){let t,a;return{c(){t=d("span"),a=T(n[0]),this.h()},l(r){t=p(r,"SPAN",{title:!0,class:!0});var e=_(t);a=P(e,n[0]),e.forEach(f),this.h()},h(){o(t,"title",n[0]),o(t,"class","svelte-13wazj3")},m(r,e){b(r,t,e),S(t,a)},p(r,[e]){e&1&&U(a,r[0]),e&1&&o(t,"title",r[0])},i:v,o:v,d(r){r&&f(t)}}}function x(n,t,a){let{title:r}=t;return n.$$set=e=>{"title"in e&&a(0,r=e.title)},[r]}class ft extends h{constructor(t){super(),m(this,t,x,Z,u,{title:0})}}export{it as G,rt as P,ot as T,ft as a,lt as b,at as e,nt as l};
