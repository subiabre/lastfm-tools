var E=Object.defineProperty;var P=(n,t,a)=>t in n?E(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a;var S=(n,t,a)=>P(n,typeof t!="symbol"?t+"":t,a);import{s as u,a as w,u as g,g as v,b as T,n as y}from"./scheduler.xZJLFhf8.js";import{S as h,i as m,e as d,c as p,a as b,d as o,f as i,g as _,n as $,o as I,t as A,b as L,h as j,s as z,r as f}from"./index._22ZamY_.js";function x(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}class C{constructor(t){S(this,"lastfm");this.lastfm=t}async getCorrection(t){const a=await this.lastfm.fetch(new URLSearchParams({method:"artist.getCorrection",artist:t}));if(typeof a.corrections.correction>"u")throw new Error("The artist you supplied could not be found");return a.corrections.correction.artist.name}async getInfo(t){const a=await this.lastfm.fetch(new URLSearchParams({method:"artist.getInfo",artist:t}));return{name:a.artist.name,playcount:parseInt(a.artist.stats.playcount),listeners:parseInt(a.artist.stats.listeners),url:a.artist.url,similar:a.artist.similar.artist.map(r=>r.name)}}async getTopTracks(t,a="10"){return(await this.lastfm.fetch(new URLSearchParams({method:"artist.getTopTracks",artist:t,limit:a}))).toptracks.track.map(e=>({title:e.name,playcount:parseInt(e.playcount),listeners:parseInt(e.listeners),url:e.url,rank:parseInt(e["@attr"].rank)}))}}const U="https://ws.audioscrobbler.com/2.0/";class k{async fetch(t){const a=new URLSearchParams({api_key:"046a32e1f0d5bd75aa99fb2e2a812eb9",format:"json"}),r=await fetch(U+"?"+a+"&"+t);if(r.status!==200)throw new Error("Bad Request");return await r.json()}}const tt={artist:new C(new k)};function B(n){let t,a;const r=n[1].default,e=w(r,n,n[0],null);return{c(){t=d("table"),e&&e.c(),this.h()},l(s){t=p(s,"TABLE",{class:!0});var l=b(t);e&&e.l(l),l.forEach(o),this.h()},h(){i(t,"class","svelte-1tuw4jv")},m(s,l){_(s,t,l),e&&e.m(t,null),a=!0},p(s,[l]){e&&e.p&&(!a||l&1)&&g(e,r,s,s[0],a?T(r,s[0],l,null):v(s[0]),null)},i(s){a||($(e,s),a=!0)},o(s){I(e,s),a=!1},d(s){s&&o(t),e&&e.d(s)}}}function D(n,t,a){let{$$slots:r={},$$scope:e}=t;return n.$$set=s=>{"$$scope"in s&&a(0,e=s.$$scope)},[e,r]}class et extends h{constructor(t){super(),m(this,t,D,B,u,{})}}function q(n){let t,a;const r=n[1].default,e=w(r,n,n[0],null);return{c(){t=d("tr"),e&&e.c(),this.h()},l(s){t=p(s,"TR",{class:!0});var l=b(t);e&&e.l(l),l.forEach(o),this.h()},h(){i(t,"class","svelte-197l5a0")},m(s,l){_(s,t,l),e&&e.m(t,null),a=!0},p(s,[l]){e&&e.p&&(!a||l&1)&&g(e,r,s,s[0],a?T(r,s[0],l,null):v(s[0]),null)},i(s){a||($(e,s),a=!0)},o(s){I(e,s),a=!1},d(s){s&&o(t),e&&e.d(s)}}}function G(n,t,a){let{$$slots:r={},$$scope:e}=t;return n.$$set=s=>{"$$scope"in s&&a(0,e=s.$$scope)},[e,r]}class st extends h{constructor(t){super(),m(this,t,G,q,u,{})}}function N(n){let t,a;return{c(){t=d("span"),a=A(n[0]),this.h()},l(r){t=p(r,"SPAN",{title:!0,class:!0});var e=b(t);a=L(e,n[0]),e.forEach(o),this.h()},h(){i(t,"title",n[0]),i(t,"class","svelte-13wazj3")},m(r,e){_(r,t,e),j(t,a)},p(r,[e]){e&1&&z(a,r[0]),e&1&&i(t,"title",r[0])},i:y,o:y,d(r){r&&o(t)}}}function V(n,t,a){let{title:r}=t;return n.$$set=e=>{"title"in e&&a(0,r=e.title)},[r]}class at extends h{constructor(t){super(),m(this,t,V,N,u,{title:0})}}function F(n){let t,a;const r=n[4].default,e=w(r,n,n[3],null);return{c(){t=d("div"),e&&e.c(),this.h()},l(s){t=p(s,"DIV",{title:!0,style:!0,class:!0});var l=b(t);e&&e.l(l),l.forEach(o),this.h()},h(){i(t,"title",n[1]),f(t,"--bar-size",n[0]+"%"),f(t,"--bar-color",n[2]),i(t,"class","svelte-1ty1bkl")},m(s,l){_(s,t,l),e&&e.m(t,null),a=!0},p(s,[l]){e&&e.p&&(!a||l&8)&&g(e,r,s,s[3],a?T(r,s[3],l,null):v(s[3]),null),(!a||l&2)&&i(t,"title",s[1]),(!a||l&1)&&f(t,"--bar-size",s[0]+"%"),(!a||l&4)&&f(t,"--bar-color",s[2])},i(s){a||($(e,s),a=!0)},o(s){I(e,s),a=!1},d(s){s&&o(t),e&&e.d(s)}}}const H="#648fff80",J="#785ef080",K="#dc267f80",M="#fe610080",O="#ffb00080";function Q(n){return n>80?O:n>60?M:n>40?K:n>20?J:H}function W(n,t,a){let r,{$$slots:e={},$$scope:s}=t,{size:l}=t,{title:R=""}=t;return n.$$set=c=>{"size"in c&&a(0,l=c.size),"title"in c&&a(1,R=c.title),"$$scope"in c&&a(3,s=c.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&a(2,r=Q(l))},[l,R,r,s,e]}class nt extends h{constructor(t){super(),m(this,t,W,F,u,{size:0,title:1})}}export{nt as G,st as T,at as a,et as b,x as e,tt as l};
